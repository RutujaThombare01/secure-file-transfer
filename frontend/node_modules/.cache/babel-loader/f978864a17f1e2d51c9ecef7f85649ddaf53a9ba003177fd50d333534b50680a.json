{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rutuja\\\\Desktop\\\\Secure-Doc-Share\\\\frontend\\\\src\\\\components\\\\UploadForm.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UploadForm() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [secureLink, setSecureLink] = useState(\"\");\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n  };\n  const handleUpload = async () => {\n    if (!file) return alert(\"Please select a file first.\");\n    const formData = new FormData();\n    formData.append(\"file\", file); // key must be \"file\"\n\n    try {\n      const response = await axios.post(\"https://secure-file-transfer-1-o6ja.onrender.com/api/files/upload\", formData);\n      const link = response.data.accessLink;\n      setSecureLink(link);\n    } catch (error) {\n      var _error$response;\n      console.error(\"Upload failed:\", error);\n      alert(\"Upload failed: \" + ((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Secure File Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      children: \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), secureLink && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Secure Link:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          id: \"secureLink\",\n          href: secureLink,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: secureLink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          navigator.clipboard.writeText(secureLink).then(() => alert(\"âœ… Link copied to clipboard\")).catch(() => alert(\"âŒ Failed to copy\"));\n        },\n        children: \"\\uD83D\\uDCCB Copy Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(UploadForm, \"yYYO3W3CF0Hu1xoymIRnc9fU9Ec=\");\n_c = UploadForm;\nvar _c;\n$RefreshReg$(_c, \"UploadForm\");","map":{"version":3,"names":["useState","axios","jsxDEV","_jsxDEV","UploadForm","_s","file","setFile","secureLink","setSecureLink","handleFileChange","e","target","files","handleUpload","alert","formData","FormData","append","response","post","link","data","accessLink","error","_error$response","console","message","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","id","href","rel","navigator","clipboard","writeText","then","catch","_c","$RefreshReg$"],"sources":["C:/Users/Rutuja/Desktop/Secure-Doc-Share/frontend/src/components/UploadForm.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function UploadForm() {\r\n  const [file, setFile] = useState(null);\r\n  const [secureLink, setSecureLink] = useState(\"\");\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n  if (!file) return alert(\"Please select a file first.\");\r\n\r\n  const formData = new FormData();\r\n  formData.append(\"file\", file); // key must be \"file\"\r\n\r\n  try {\r\n    const response = await axios.post(\"https://secure-file-transfer-1-o6ja.onrender.com/api/files/upload\", formData);\r\n\r\n\r\n    const link = response.data.accessLink;\r\n    setSecureLink(link);\r\n  } catch (error) {\r\n    console.error(\"Upload failed:\", error);\r\n    alert(\"Upload failed: \" + (error?.response?.data || error.message));\r\n  }\r\n};\r\n\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <h2>Secure File Upload</h2>\r\n      <input type=\"file\" onChange={handleFileChange} />\r\n      <br /><br />\r\n      <button onClick={handleUpload}>Upload</button>\r\n      <br /><br />\r\n      {secureLink && (\r\n  <div>\r\n    <strong>Secure Link:</strong>\r\n    <p>\r\n      <a id=\"secureLink\" href={secureLink} target=\"_blank\" rel=\"noopener noreferrer\">\r\n        {secureLink}\r\n      </a>\r\n    </p>\r\n    <button onClick={() => {\r\n      navigator.clipboard.writeText(secureLink)\r\n        .then(() => alert(\"âœ… Link copied to clipboard\"))\r\n        .catch(() => alert(\"âŒ Failed to copy\"));\r\n    }}>ðŸ“‹ Copy Link</button>\r\n  </div>\r\n)}\r\n\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}